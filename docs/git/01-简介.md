# 版本控制软件

[![Cloud Studio Template](https://cs-res.codehub.cn/common/assets/icon-badge.svg)](https://cloudstudio.net/courses/29866357847355392)

[视频教程](https://www.bilibili.com/video/BV1DBnozLEHN/?share_source=copy_web&vd_source=aa661569ff3138d0b604d53a96184bf2)

> **相关资源**
>
> * [Git参考教程](https://liaoxuefeng.com/books/git/introduction/index.html)
> * [Git官网](https://git-scm.com/)

文件的版本

* 记录的文件的修改过程。
* 可以找回删除掉的内容。
* 多人协作共同完成一项工作。
* 当出现问题时，可以追溯修改的源头。

<img src="https://raw.githubusercontent.com/hughxusu/lesson-knowledge/develop/images/git/Xnip2024-11-07_09-03-12.jpg" style="zoom: 55%;" />

人为对文件进行管理，是一个繁琐切枯燥的工作……

版本控制软件：是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。 

## 版本控制系统的分类

版本控制软件分为：本地版本控制系统、集中化的版本控制系统和分布式的版本控制系统。

### 本地版本控制系统

使用软件来记录文件的不同版本，提高了工作效率，降低了手动维护版本的出错率。（RCS工具）

* 单机运行，不支持多人协作开发。
* 版本数据库故障后，所有历史更新记录会丢失。



<img src="https://raw.githubusercontent.com/hughxusu/lesson-knowledge/develop/images/git/local.png" style="zoom:40%;" />

### 集中化的版本控制系统

于服务器、客户端的运行模式，服务器保存文件的所有更新记录，客户端只保留最新的文件版本。（SVN工具）

* 联网运行，支持多人协作开发。
* 不支持离线提交版本更新。
* 中心服务器崩溃后，所有人无法正常工作。
* 版本数据库故障后，所有历史更新记录会丢失。



<img src="https://raw.githubusercontent.com/hughxusu/lesson-knowledge/develop/images/git/centralized.png" style="zoom:55%;" />

### 分布式的版本控制系统

基于服务器、客户端的运行模式，服务器保存文件的所有更新版本，客户端是服务器的完整备份。（Git工具）

* 联网运行，支持多人协作开发。
* 客户端断网后支持离线本地提交版本更新。
* 服务器故障或损坏后，可使用任何一个客户端的备份进行恢复

<img src="https://raw.githubusercontent.com/hughxusu/lesson-knowledge/develop/images/git/distributed.png" style="zoom:40%;" />

## 什么是Git

Git是一个开源的分布式版本控制系统，是目前世界上最先进、最流行的版本控制系统。可以快速高效地处理从很小到非常大的项目版本管理。

* 直接记录快照，而非差异比较。
* 近乎所有操作都是本地执行。

> [!warning]
>
> Git主要用于管理文本文件。

Git是一个开源项目，由Linux的发起人，Linus用C语言创建。

<img src="https://raw.githubusercontent.com/hughxusu/lesson-knowledge/develop/images/git/Cohen-Linus-Torvalds.jpg" style="zoom:35%;" />

### 差异比较

传统的版本控制系统（例如SVN）是基于差异的版本控制，它们存储的是一组基本文件和每个文件随时间逐步累积的差异。

<img src="https://raw.githubusercontent.com/hughxusu/lesson-knowledge/develop/images/git/deltas.png" style="zoom: 40%;" />

* 节省磁盘空间
* 在每次切换版本的时候，都需要在基本文件的基础上，应用每个差异，从而生成目标版本对应的文件，耗时、效率低。

### 记录快照

Git快照是在原有文件版本的基础上重新生成一份新的文件，类似于备份。如果文件没有修改，Git不再重新存储该文件，而是只保留一个链接指向之前存储的文件。

<img src="https://raw.githubusercontent.com/hughxusu/lesson-knowledge/develop/images/git/snapshots.png" style="zoom:40%;" />

* 占用磁盘空间较大。
* 版本切换时非常快（空间换时间）。

### 操作都是本地执行

在Git中的绝大多数操作都只需要访问本地文件和资源，一般不需要来自网络上其它计算机的信息。

* 断网后依旧可以在本地对项目进行版本管理。
* 联网后，把本地修改的记录同步到云端服务器即可。
